[[{"l":"DeFi Prizes"},{"l":"Welcome","p":["DeFi Prizes is a no loss lottery protocol based on the avalanche network.","Our contracts function the same way as premium bonds meaning the more you deposit, the more chance you have of winning.","You can always get your initial deposit back.","All the contract code is available to view on snowtrace.","Remember, it could be YOU that wins!"]}],[{"l":"Getting Started","p":["Setup your wallet Select a prize contract Enter a Draw"]}],[{"l":"Adding Metamask"},{"l":"1. Install Metamask","p":["Metamask is a web 3.0 wallet and is required to hold all your funds. Do not share your secret key with anyone. Install Metamask"]},{"i":"2-connect-your-wallet-to-defiprizescom","l":"2. Connect your wallet to defiprizes.com","p":["Connect Screenshot This will allow you to make transactions and enter draws on the site. You must configure your wallet to be on the avalanche main net for the prize draws to work."]},{"l":"3. Add the avalanche network","p":["Setting up Avalanche for Metamask"]}],[{"l":"Entering a Draw","p":["This article will show you how to enter a draw. For more information on how the smart contract draws work, see the PrizeDraws article in the How It Works section."]},{"l":"Prerequisites","p":["You must have a metamask wallet installed, configured for the avalanche network and connected to defiprizes.com. Setup your wallet"]},{"l":"1. Get some tokens","p":["For each prize contract, there is a specified deposit token. In the examples below this is the PNG token. You must have some of this token available in your connected wallet. If not, you will be shown a \"Get Token\" button which will load a Trader Joe swap interface for the deposit token. Buy Screenshot"]},{"l":"2. Approve or Permit Tokens","p":["In order to deposit tokens into the prize contracts, you will need to approve a spending amount. This is required as this is how the prize contract collects your tokens. For some tokens with permit functionality, this step can be bypassed in favour of an off chain signature."]},{"l":"3. Deposit Tokens","p":["Deposit the desired amount of tokens into the contract. Remember, the more you deposit, the more chance you have of winning. Deposit Screenshot"]},{"l":"4. Qualify Tokens","p":["Once you have deposited funds, you will have a warmup balance (as shown below). This balance is not yet elligible to win prizes. You must wait until the next draw to qualify your tokens. Once the draw has past, click qualify. All these tokens will then be eligible to win prizes on the next draw! Warmup Screenshot","If you have a warmup balance ready to qualify and want to deposit more, make sure you qualify your warmup balance first, then deposit more tokens. If you do not, you will have to wait until the next draw for both balances."]},{"i":"5-good-luck","l":"5. Good Luck!","p":["Draws are announced on Twitter, Discord and shown in the app. If you win, your prize amount will be added to your qualified balance so your changes of winning again will have increased."]}],[{"l":"Referring Users","p":["Each prize contract has a referral mechanism built in. To benefit from the referrals mechanism, you should take the following steps:"]},{"l":"1. Copy your link","p":["When you have connected your wallet to DeFiPrizes, on each contract in the referrals section, you will have a unique referral link that you can use to refer users. Your unique link contains your wallet address.","Make sure you have connected your wallet to DeFiPrizes before copying the link. Otherwise the link will not be unique to you. Check to make sure your link contains your wallet address.","As your referral link contains your wallet address, you may want to create a separate wallet so the users you refer can't see your balances. It is not required though.","Referrals Screenshot"]},{"l":"2. Get users to deposit and qualify","p":["Once you have distributed your link to your followers, they must deposit tokens into a prize contract. It does not need to be the same contract you referred them to. Once they have depositied tokens, they must then qualify them after the next draw. Once they have participated in one qualifying draw you will recieve reward tokens proportional to the amount they depositied and how much is in the referral prize pool for that draw.","You will get reward tokens for every qualification a referred user makes in the future."]},{"l":"3. Claim reward tokens","p":["Once the user has participated in a draw, you will be allocated some reward tokens. Click the claim button to transfer the reward tokens to your wallet.","See more information on how referrals work here:","How referrals work"]}],[{"l":"Prize Draws","p":["The mechanism for how prize draws work will be added here. Check back for more information."]},{"l":"Winners Algorithm","p":["Below is the off-chain code that is run for every prize draw. It outputs the addresses in an array where position 0 is the gold winner and 1-5 are the silver winners. The code uses crypto/rand to securely generate random numbers."]}],[{"l":"Architechture"},{"l":"Blockchain Architechture","p":["This section outlines the various different contracts that are deployed to facilitate the main prize contract.","In this example, when deposits are made to the USDT.e contract, they are instantly sent to the equivelent traderjoe lending contract via a mint call. The traderjoe lending contract follows a proxy pattern, however the methods that are called are available on the proxy so even if the underlying contract is changed, the abi would still be valid. When withdrawals are made, the redeemUnderlying function is called which sends the funds back to the prize contract, which in turn sends it back to the original depositor wallet.","The complexity comes when calculating the prize draw. The total underlying balance of the lending contract increases (due to interest accuring) so the prize contract calculates the difference between the balance deposited and the current balance after interest.","In addition to this, traderjoe also distributes JOE token rewards. Since the price contract only distributes prizes in one token, a conversion must be made to the prize contract deposit token (USDT.e in this case). A call is made to claimRewardsInTargetToken on the lending rewards bridge which in turn calls exchangeTokensForExactTokens in the exchange bridge.","The lending rewards bridge calculates how much JOE has been awarded and sends it to the exchange bridge to swap it for USDT.e. These \"bridge\" contracts exist rather than making direct calls so that if the underlying ABI changes, the prize contract is not affected and the new ABI can be deployed with minimal distuption."]},{"l":"Application Architechture","p":["The application architechture outlines all the technology pieces that make everything work. The languages are show in brackets.","BlockChain Architechture","The main front end react app is deployed in github pages. There are two dependancies of this app.","The prizes api which is also deployed on github pages. This is responsible for recording all the historic winners.","The blockchain network which is accessed via a wallet like metamask.","The final piece is the orchestrator which triggers the draws, updates the winners api and the blockchain."]}],[{"l":"Flow Of Tokens","p":["When tokens are deposited, tokens are never transferred to any other contract other than the prize contract and the interest accuring contract. The diagram below outlines the different sections of the prize contract as the tokens flow through different parts of the contract in order to help calculate the prize prize amounts and referral bonuses.","All of this code is available to view in the contract section on the corresponding snowtrace page. All the contracts can be found on the contracts page.","Token Flow"]},{"l":"Draw manager","p":["The draw manager is responsible for keeping track of which user has deposited how much and the state of those tokens since tokens can have a warmup or a qualified stat"]},{"l":"Prize Manager","p":["The prize manager is responsible for calculating the prize amounts (gold, silver & referral pool) and allocating them to the corresponding winners."]},{"l":"Referral Manager","p":["The referral manager is responsible for keeping track of all the balances that have been referred for each draw and which user has referred them. It also handles claiming referral rewards. For more details on how the referral manager works see the referrals page."]}],[{"l":"Referrals","p":["Oops, there's nothing here. Please check back later."]}],[{"l":"DFP Token"},{"l":"Overview","p":["The DFP token is the native token of the DeFiPrizes.com protocol. It is an ERC20 token deployed on the avalanche c-chain with a fixed supply of 10 million. This means there are no burn or mint functions affecting inflation.","The DFP token will be used for governance in the future by way of a voting mechanism. Initially, a very small amount will be airdropped to multiple recipients. Then final airdrops will take place to anyone participating in the prize pools. See below for details.","Eventually there is a possibility of issuing token buybacks from a percentage of the prizes earnt in the pools. It must be noted that this token is a tool to promote, facilitate and govern the DeFi Prizes protocol. We have no desire to influence the price of this token in either direction. Our efforts will mainly be focused on the Prizes protocol. See the roadmap for more details.","View on Snowtrace"]},{"l":"Ongoing Marketing Airdrop","p":["When: Ongoing","Amount: 10 DFP","Who: Anyone who received various deposit tokens on the avax c-chain.","At the moment, this is an ongoing airdrop. The maximum it will give away is 100 DFP in total. It is used as marketing technique and you can only receive one drop per wallet. You will qualify for this airdrop if you recieve some of the specified deposit tokens.","E.g. We currently have a PNG draw running. At any point in time, the protocol can look up recent transactions on the c-chain to see who has received some PNG (this will most likely be from a DEX). If they haven't received any DFP in the past, they will be dropped a share of the airdrop pool. Recipients of the deposit token aren't all guarenteed this airdrop."]},{"l":"Upcoming Airdrops"},{"l":"Airdrop 1","p":["When: TBD","Amount: 10000 DFP","Who: Anyone who has qualified tokens in any DeFi Prizes Draw.","All qualified tokens from all prize contracts at this time will recieve a drop proportional to the USD value of the tokens they have qualified. More details to follow."]}],[{"l":"General"},{"l":"Prize Draws"},{"i":"how-do-you-select-the-winners","l":"How do you select the winners?","p":["Winner selection is done off chain. This is to maximize fairness, speed and cost. It uses /dev/urandom with an algorithm that aggregates all deposits to ensure every wallet has a fair chance of winning proportional to the amount of tokens they deposit. You can view the winners algorithm here."]},{"i":"where-do-the-prize-tokens-come-from","l":"Where do the prize tokens come from?","p":["Depending on what contract you deposit your tokens to, they are staked or lended to various different exchanges. Mostly Trader Joe and Pangolin. This is normally outlined in the details section of each contract."]},{"i":"is-this-a-rug-pull","l":"Is this a rug pull?","p":["What more can we say than no! You can view the contract code in snowtrace so you can see we can't take your tokens. You will always be able to withdraw your tokens, even if you don't win."]},{"i":"when-are-the-draws-announced","l":"When are the draws announced?","p":["Each draw has its own schedule. Visit the specific contract you are interested in and it will say when the next draw is. We will eventually publish these to twitter and discord."]},{"i":"what-is-a-warmup-balance","l":"What is a warmup balance?","p":["Your warmup balance is allocated when you deposit tokens. You cannot win any prizes with these tokens. You must hold this balance until the next draw. Then, you can qualify the tokens which means they will then be eligible to win prizes. The warmup balance exists to ensure everyone has staked money for the prize, and the prizes are only allocated to those who have staked the tokens for the correct time."]},{"i":"how-do-i-enter","l":"How do I enter?","p":["Deposit Tokens","Wait the warmup time (wait till the next draw)","Qualify Tokens & Good Luck! Only qualified balances can win prizes. You can find the full guide here"]},{"i":"what-are-the-risks","l":"What are the risks?","p":["We have a page dedicated to explaining the risks which can be found here: Risks."]},{"i":"how-do-i-claim-my-prize","l":"How do I claim my prize?","p":["If you have won, your prize will automatically be added to your qualified balance so your chances of winning again are increased. If you have earnt a referral reward, these can be claimed by clicking the claim button in the referrals section. It will only show if you have a balance to claim."]},{"i":"have-i-won","l":"Have I won?","p":["The first thing to note is if you have won, the prize will be added to yoru qualified balance. You can also check the prize history section to see if your address shows up in there. You can also use the prize history api to periodically check if you have won."]}],[{"l":"Referrals"},{"l":"Referrals"},{"i":"when-do-i-get-my-referral-rewards","l":"When do I get my referral rewards?","p":["Referred tokens are only attributed to you when users qualify their tokens from your referral link. Depending on how many other people and tokens are referred, you will be allocated a referral pool share. On the next draw your percentage of the referral pool gets credited to your wallet which you can then claim."]},{"i":"how-many-tokens-do-i-get-for-referring-someone","l":"How many tokens do I get for referring someone?","p":["You will get allocated a percentage of the referral pool for the current draw. Your percentage is determined by how many tokens you referred. E.g. A draw is about to be run with 10,000 tokens in the prize pool. Normally, the referral pool is 10% of the prize pool so 1,000 tokens will be in the referral pool. If you referred 2 tokens, and only one other person managed to refer 2 tokens also, you will be allocated 50% of the referral pool. This means you would be rewarded with 500 tokens."]}],[{"l":"EcoSystem Links","p":["DeFi Prizes: https://defiprizes.com","DeFi Prizes Docs: https://docs.defiprizes.com"]},{"l":"Social","p":["Twitter: https://twitter.com/defiprizes","Discord: https://discord.gg/HbgW7kWh56"]}],[{"l":"Brand Assets","p":["favicon-16x16.png favicon-32x32.png large.png large-glow.png large-light.png large-dark.png social-bkg-glow.png"]}],[{"l":"API","p":["There is an API that can be used to fetch prize information for any given contract. Unfortunately, this API is not currently available yet."]}],[{"l":"Risks","p":["All crypto projects come with risks, some more than others, but we thought it best to outline the main ones here."]},{"l":"Interest Contract Liquidity","p":["Risk: Very Unlikely","When you deposit your tokens, they instantly get invested into various exchanges. Interest is then earnt on the tokens which is then used to pay the prize fund. We only use reputable exchanges which have been properly audited.","Currently, contracts generate interest by lending out tokens on the TraderJoe exchange. As tokens are lent out, if you wish to withdraw your tokens, there needs to be enough liquidity in the corresponding exchange lending contract in order to pay out the tokens. Borrowing and supplying interest rates are directly related to the current liquidity supply meaning it is very unlikely that there won't be enough liquidity available to fulful a withdraw request. As liquidity decreases, interest rates increase encouraging more people to either pay back their loans, or people to supply more liquidity to the pool.","For more information, you can visit the TraderJoe Lending docs here: https://docs.traderjoexyz.com/main/trader-joe/lending"]},{"l":"Smart Contract Exploit","p":["Risk: Very Unlikely","Although our contracts (and third party contracts we use) have been thoroughly tested, it is still a possibility that a bug may be found and exploited. This is true of any crypto project. Our contracts are coded in such a way that we minimise the possible actions an attacker can do. You can purchase smart contract insurance if you wish to mitigate the risk. https://nexusmutual.io/"]},{"l":"Other Risks","p":["Risk: Unlikely","Whilst we see the previous two risks as being the main risks, there are other risks that exist with using crypto in general and these should be researched before proceeding. We cannot name all but the most basic would be token value loss, wallet key loss & incorrect address transfers. See: https://help.coinbase.com/en/coinbase/trading-and-funding/advanced-trading/defi-investment-risks","One final note: defiprizes has zero server costs. This means that no matter how popular it gets, you should always be able to load the interface to deposit or withdraw your tokens. This is achieved by using github pages. Behind the scenes, they use industry standard methods such as multi layered caching using browser caching headers, CDNs & server caching technologies such as Varnish. This also protects against DDOS attacks and keeps page load time down no matter where you are in the world. DeFiPrizes.com is hosted here: https://github.com/defiprizes/frontend-build"]}],[{"l":"Contracts","p":["This is a list of all DeFi Prizes contracts currently in operation.","Users should not send any tokens directly to these addresses."]},{"l":"Prize Contracts","p":["These are the contracts that users can deposit their tokens into to win prizes.","Contract","Address","PNG Weekly","0xFf00E787e68cF7fc07CcEA633556fB3f5fBbC000","USDT.e Weekly","0xC0ad9Ac7Ee0DA2B94793F70449b706eCDdE6c480"]},{"l":"Core Contracts","p":["These are the contracts (authored by us) used to facilitate the main prize contracts. Various bridge contracts exist to mitigate the risk of a third party changing their abi.","Contract","Address","TraderJoeRewardsCollector","0x9E4dCFcC2a017Ba6f3dFe43FFB97f3971Db32055","ExchangeBridge","0x2498d70E4a2ED018EEB092101A24827fdfCE7C13","DeFiPrizesToken","0x14ab67e29edce0bf220c9e549435d494820075f6","Airdrop","0x0CDD534DeE7eD845697bC15feeEDb13a98264254"]}],[{"l":"Roadmap"},{"i":"2022-q1---launch","l":"2022 Q1 - Launch","p":["In this quarter, we will launch the first version of the prize contract. We will finalise the app and add additional features to help users understand the draw such as prize history, displaying your odds, developing the front end referrals system and building out the documentation."]},{"i":"2022-q2---refine-and-market","l":"2022 Q2 - Refine and Market","p":["In this quarter, we will focus on fixing any bugs with the front end app. We will look at various other tokens to generate draws from. The more tokens we are able to offer as a deposit option, the wider the potential audience can be. We will also heavily focus on marketing, this will include bulking up the docs, writing various blog articles, various token airdrops and reaching out to influencers and bloggers."]},{"i":"2022-q3---driving-more-investors","l":"2022 Q3 - Driving More Investors","p":["Whilst continuing to look into ways of marketing, we will explore the possibility of using NFTs to generate additional income to help fund the prizes. These NFTs could potentially offer a multiplier on your existing qualified draw balance. We will also look into the possibility of branching out into another chain to help expand the audience and token options."]},{"i":"2022-q4---decentralisation-and-token-buybacks","l":"2022 Q4 - Decentralisation and Token buybacks","p":["Once a large amount of users in the prize contracts have been established and pools are generating a good return, we will explore the possiblility of building a way to give a percentage of the prize fund back to DFP token holders. There is also scope for refining the control of the protocol towards a voting machanism which would be controlled by DFP token holders."]},{"l":"Suggestions","p":["Got a suggestion? Post in the discord group and it may make it onto the roadmap."]}]]